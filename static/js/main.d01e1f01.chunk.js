(this.webpackJsonpmetflix=this.webpackJsonpmetflix||[]).push([[0],{32:function(e,t,a){e.exports=a(66)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},58:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(29),l=a.n(r),o=(a(37),a(38),a(7));a(39);function i(e){var t=e.handleSearch,a=e.query;return c.a.createElement("div",null,c.a.createElement("input",{placeholder:"movie name",type:"text",onChange:t,value:a}))}var u=a(8),s=(a(40),a(18)),m=a(13),E=a.n(m);a(58);function f(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header"},c.a.createElement(u.b,{to:"/",className:"title"},c.a.createElement("h2",null,"MOFLIX"))))}var v=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(1),m=Object(o.a)(l,2),v=m[0],b=m[1],d=function(e,t){var a=Object(n.useState)(!0),c=Object(o.a)(a,2),r=c[0],l=c[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],f=u[1],v=Object(n.useState)(!1),b=Object(o.a)(v,2),d=b[0],h=b[1],p=Object(n.useState)([]),O=Object(o.a)(p,2),j=O[0],g=O[1];return Object(n.useEffect)((function(){g([])}),[e]),Object(n.useEffect)((function(){l(!0),f(!1),E()({method:"GET",url:"https://www.omdbapi.com/?apikey=cfce499a&",params:{s:e,page:t}}).then((function(e){"False"!==e.data.Response&&(g((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.data.Search))})),console.log("hasMore hook",e.data.Search.length>0),h(e.data.Search.length>0),l(!1))}))}),[e,t]),{loading:r,error:m,movies:j,hasMore:d}}(a,v),h=d.movies,p=d.hasMore,O=d.loading,j=d.error;console.log(a,v);var g=Object(n.useRef)(),S=Object(n.useCallback)((function(e){O||(g.current&&g.current.disconnect(),g.current=new IntersectionObserver((function(e){e[0].isIntersecting&&p&&b((function(e){return e+1}))})),e&&g.current.observe(e))}),[O,p]);return console.log(h),c.a.createElement("div",null,c.a.createElement(f,null),c.a.createElement("span",{className:"movieIcon"},"\ud83c\udfac"),c.a.createElement(i,{handleSearch:function(e){r(e.target.value),b(1)},query:a}),c.a.createElement("div",{className:"movieList"},h.map((function(e,t){return h.length===t+1?c.a.createElement("div",{ref:S,key:e.imdbID},c.a.createElement("div",null," ",e.Title),c.a.createElement(u.b,{to:"/".concat(e.imdbID)},c.a.createElement("img",{src:"".concat(e.Poster)}))):c.a.createElement("div",{className:"moviesresults",key:e.Title},c.a.createElement(u.b,{to:"/".concat(e.imdbID)},c.a.createElement("img",{src:"".concat(e.Poster)})," "),c.a.createElement("div",{className:"desc"},e.Title,c.a.createElement("br",null),e.Year))}))),c.a.createElement("div",null,O&&"NO MORE \ud83d\ude37\ud83d\ude37"),c.a.createElement("div",null,j&&"Error"))},b=a(1),d=a(17),h=a.n(d),p=a(31),O=(a(65),function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(b.f)().movieId;return Object(n.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E()("http://www.omdbapi.com/?apikey=cfce499a&i="+l);case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),console.log(a),c.a.createElement("div",{className:"movieDetailList"},c.a.createElement("div",{className:"movie"},c.a.createElement("img",{src:a.Poster,alt:"poster"}),c.a.createElement("ul",{className:"list"},c.a.createElement("li",null,a.Title),c.a.createElement("li",null,a.Country," ",a.Type," "),c.a.createElement("br",null),c.a.createElement("li",null,"PLOT"),c.a.createElement("li",null,a.Plot),c.a.createElement("br",null),c.a.createElement("li",null,a.Runtime),c.a.createElement("li",null,a.Language))))});var j=function(){return c.a.createElement("div",null,c.a.createElement(b.c,null,c.a.createElement(b.a,{exact:!0,path:"/"},c.a.createElement(v,null)),c.a.createElement(b.a,{exact:!0,path:"/:movieId"},c.a.createElement(O,null))))};l.a.render(c.a.createElement(u.a,null,c.a.createElement(j,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d01e1f01.chunk.js.map